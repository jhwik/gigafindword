<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ë‹¤ë¥¸ ë‹¨ì–´ ì°¾ê¸°</title>
<style>
  body {
    text-align: center;
    background-color: #fff8f0;
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    color: black;
    font-family: 'ë§‘ì€ ê³ ë”•', 'Malgun Gothic', sans-serif;
  }
  #intro {
    font-size: 24px;
    margin-bottom: 20px;
    line-height: 1.6;
  }
  #startBtn {
    padding: 15px 30px;
    font-size: 20px;
    border: none;
    border-radius: 15px;
    background-color: #87CEEB;
    color: black;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(135,206,235,0.6);
    transition: background-color 0.3s, transform 0.2s;
  }
  #startBtn:hover {
    background-color: #a0d8ef;
    transform: scale(1.05);
  }
  #gameArea {
    display: none;
    flex-direction: column;
    align-items: center;
  }
  h2 {
    font-size: 28px;
    margin: 10px 0 5px;
    color: black;
  }
  #timer {
    font-size: 22px;
    margin-bottom: 15px;
    color: #555;
  }
  #grid {
    display: grid;
    gap: 8px;
    justify-content: center;
    margin-top: 10px;
  }
  button.wordBtn {
    font-weight: bold;
    border-radius: 12px;
    border: none;
    color: black;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    transition: transform 0.15s, background-color 0.3s;
    user-select: none;
    width: 70px;
    height: 70px;
    font-size: 16px;
    background-color: #87CEEB;
  }
  button.wordBtn:hover {
    transform: scale(1.1);
    background-color: #a0d8ef;
  }
  @media (max-width: 480px) {
    button.wordBtn {
      width: 50px;
      height: 50px;
      font-size: 14px;
    }
    #startBtn {
      font-size: 18px;
      padding: 12px 24px;
    }
  }
</style>
</head>
<body>

<div id="intro">
  <div>íœ˜ê²½ìŒ¤ê³¼ í•¨ê»˜í•˜ëŠ” 2í•™ê¸° ìˆ˜ì—…</div> 
  <div style="font-size:28px; font-weight:bold; margin: 10px 0;">ê²Œì„ìœ¼ë¡œ ì•Œì•„ë³´ê¸°! ë‘ë‘¥</div>
  <button id="startBtn">ê²Œì„ ì‹œì‘</button>
</div>

<div id="gameArea">
  <h2 id="stage">1ë‹¨ê³„</h2>
  <div id="timer">ì‹œê°„: 5</div>
  <div id="grid"></div>
</div>

<script>
(() => {
  // í°íŠ¸ í†µì¼ì„ ìœ„í•´ JSì—ì„œë„ ì„¤ì •
  const chosenFont = "'ë§‘ì€ ê³ ë”•', 'Malgun Gothic', sans-serif";
  document.body.style.fontFamily = chosenFont;

  const wordPairs = [
    { correct: "íœ˜ê²½", wrong: "íœ˜ê²…" },
    { correct: "í­ë ¥", wrong: "í­ë ´" },
    { correct: "ì§„ë¡œ", wrong: "ì§„ë£Œ" },
    { correct: "ë¯¸ë””ì–´", wrong: "ë¯¸ë¯¸ì–´" },
    { correct: "ìƒëª…", wrong: "ìƒˆë©°" },
    { correct: "ì§‘", wrong: "ì§•" },
    { correct: "ì§„ë¡œ", wrong: "ì§„ë£Œ" }
  ];

  const intro = document.getElementById("intro");
  const startBtn = document.getElementById("startBtn");
  const gameArea = document.getElementById("gameArea");
  const stageTitle = document.getElementById("stage");
  const timerDisplay = document.getElementById("timer");
  const grid = document.getElementById("grid");

  let stage = 1;
  let size = 2;
  let timeLeft = 5;
  let timer = null;

  function setGridSize(s) {
    grid.style.gridTemplateColumns = `repeat(${s}, auto)`;
  }

  function animateButtons() {
    const buttons = grid.querySelectorAll("button");
    buttons.forEach(btn => {
      btn.style.transition = "transform 0.2s";
      btn.style.transform = "scale(1.2)";
      setTimeout(() => {
        btn.style.transform = "scale(1)";
      }, 200);
    });
  }

  function showMessage(msg) {
    alert(msg);
  }

  function startStage() {
    if (stage > wordPairs.length) {
      intro.style.display = "block";
      gameArea.style.display = "none";
      intro.innerHTML = `
        <div style="font-size:28px; font-weight:bold; color:black; margin-bottom:20px;">
          ë‹¹ì‹ ì´ ì§„ì •í•œ ê¸°ê°€ì™•! ğŸ‰
        </div>
        <button id="restartBtn" style="padding: 15px 30px; font-size: 20px; border: none; border-radius: 15px; background-color: #87CEEB; color: black; cursor: pointer; box-shadow: 0 4px 8px rgba(135,206,235,0.6);">
          ë‹¤ì‹œ ì‹œì‘í•˜ê¸°
        </button>
      `;
      document.getElementById("restartBtn").onclick = () => {
        stage = 1;
        size = 2;
        timeLeft = 5;
        intro.innerHTML = `
          <div>íœ˜ê²½ìŒ¤ê³¼ í•¨ê»˜í•˜ëŠ” 2í•™ê¸° ìˆ˜ì—…</div> 
          <div style="font-size:28px; font-weight:bold; margin: 10px 0;">ê²Œì„ìœ¼ë¡œ ì•Œì•„ë³´ê¸°! ë‘ë‘¥</div>
          <button id="startBtn">ê²Œì„ ì‹œì‘</button>
        `;
        document.body.style.fontFamily = chosenFont;  // ë‹¤ì‹œ í°íŠ¸ ìœ ì§€
        document.getElementById("startBtn").onclick = () => {
          intro.style.display = "none";
          gameArea.style.display = "flex";
          startStage();
        };
      };
      return;
    }

    stageTitle.textContent = stage + "ë‹¨ê³„";
    timeLeft = 5;
    timerDisplay.textContent = "ì‹œê°„: " + timeLeft;

    size = 2 + stage - 1;
    setGridSize(size);
    grid.innerHTML = "";

    const totalButtons = size * size;
    const { correct, wrong } = wordPairs[stage - 1];
    const correctIndex = Math.floor(Math.random() * totalButtons);

    for (let i = 0; i < totalButtons; i++) {
      const btn = document.createElement("button");
      btn.className = "wordBtn";
      btn.textContent = (i === correctIndex) ? correct : wrong;

      btn.onclick = () => {
        if (i === correctIndex) {
          clearInterval(timer);
          animateButtons();
          setTimeout(() => {
            stage++;
            startStage();
          }, 300);
        } else {
          showMessage("âŒ í‹€ë ¸ìŠµë‹ˆë‹¤!");
        }
      };

      grid.appendChild(btn);
    }

    clearInterval(timer);
    timer = setInterval(() => {
      timeLeft--;
      timerDisplay.textContent = "ì‹œê°„: " + timeLeft;
      if (timeLeft <= 0) {
        clearInterval(timer);
        if (confirm("â° ì‹œê°„ ì´ˆê³¼! ë‹¤ì‹œ ë„ì „í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
          stage = 1;  // 1ë‹¨ê³„ë¡œ ì´ˆê¸°í™”
          startStage();
        } else {
          intro.style.display = "block";
          gameArea.style.display = "none";
        }
      }
    }, 1000);
  }

  startBtn.onclick = () => {
    intro.style.display = "none";
    gameArea.style.display = "flex";
    stage = 1;
    size = 2;
    timeLeft = 5;
    startStage();
  };
})();
</script>

</body>
</html>



